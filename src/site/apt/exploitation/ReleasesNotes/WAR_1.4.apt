 ----- SIRH ----- Noémie NICOLAS -----  04/07/2013  Modifications liées au passage du war* Ce WAR comprend :    * {{{https://redmine/issues/2423}2423}}: Suppression des RG PA/Affectation   * {{{https://redmine/issues/2713}2713}}: Transférer les 327 demandes de Jira dans Redmine   * {{{https://redmine/issues/2825}2825}}: Eclater le cartouche Coordonnées bancaires - Service national – couverture – contacts en affichage plus linéaire.   * {{{https://redmine/issues/2826}2826}}: Table de paramétrage des jours fériés/chomés   * {{{https://redmine/issues/2915}2915}}: Espace de simulation   * {{{https://redmine/issues/3061}3061}}: PTG --> Rendre CDBASE obligatoire dans les carrieres   * {{{https://redmine/issues/3062}3062}}: PTG --> IBAN obligatoire (ou du moins mettre '0000000' quand il n'y en a pas)   * {{{https://redmine/issues/3063}3063}}: Supprimer le fichier application.xml de la racine du projet SIRH_war   * {{{https://redmine/issues/3067}3067}}: ES --> supprimer les modules inutiles   * Mise en recette :     [[1]] <<Exécuter>> sur l'AS400 le script de creation de table : {{{../../scripts/1.4-1-create.sql}1.4-1-create.sql}} sur robinnw lors de la qual. [[2]] <<Exécuter>> sur l'AS400 le script d'insertion de données : {{{../../scripts/1.4-2-insert.sql}1.4-2-insert.sql}} sur robinnw lors de la qual.    [[3]] <<Ajouter>> sur l'AS400 les tables <<SIRH.R_TYPE_JOUR_FERIE, SIRH.P_JOUR_FERIE>> au user opensirh (à faire sur robinnw pour la qual)    [[4]] <<Ajouter>> sur l'AS400 les tables <<SIRH2.R_TYPE_JOUR_FERIE, SIRH2.P_JOUR_FERIE>> au user openSirh2 (à faire sur robinnw pour la qual)  [[5]]<<Ajouter>> le paramètre <<AFFICHAGE_SUIVI_MEDICAL>> au contexte : "TRUE" pour la recette. (cf. {{{../context.html}context.html}})     [[6]]<<Ajouter>> le paramètre <<AFFICHAGE_FICHE_EMPLOI>> au contexte : "TRUE" pour la recette. (cf. {{{../context.html}context.html}})     [[7]]<<Ajouter>> le paramètre <<AFFICHAGE_HSCT>> au contexte : "TRUE" pour la recette. (cf. {{{../context.html}context.html}})     [[8]]<<Ajouter>> le paramètre <<AFFICHAGE_EAE_AGENT>> au contexte : "TRUE" pour la recette. (cf. {{{../context.html}context.html}})     [[9]]<<Ajouter>> le paramètre <<AFFICHAGE_AVCT>> au contexte : "TRUE" pour la recette. (cf. {{{../context.html}context.html}})     [[10]]<<Ajouter>> le paramètre <<AFFICHAGE_CAMPAGNE_EAE>> au contexte : "TRUE" pour la recette. (cf. {{{../context.html}context.html}})  [[11]] <<Mettre à jour>> la ressource "SIRH_DS1" du contexte (cf {{{../context.html}context}}): 		<<validationQuery>> : select 1 from sysdummy1				<<url>> : jdbc:as400://robinnw;naming=system;libraries=MAIRIE2,SIRH2,SYSIBM;				<<username>> : opensirh2				<<password>> : ***REMOVED*** [[12]] <<Mettre à jour>> la ressource "SIRH_DS2" du contexte (cf {{{../context.html}context}}): 		<<validationQuery>> : select 1 from sysdummy1				<<url>> : jdbc:as400://robinnw;naming=system;libraries=MAIRIE2,SIRH2,SYSIBM;				<<username>> : opensirh2				<<password>> : ***REMOVED***   [[13]] <<Déployer>> le war {{{../../war/1.4/sirh%23%23201306191335-1.3.war}sirh##201306191335-1.3.war}}  [[14]] Vérifier que la page version de l'application fonctionne: {{http://sirh-qual/version.jsp}} : la <<version>> doit être <<1.4>>   * Mise en prod :     [[1]] <<Exécuter>> sur l'AS400 le script de creation de table : {{{../../scripts/1.4-1-create.sql}1.4-1-create.sql}} sur noumea pour la prod. [[2]] <<Exécuter>> sur l'AS400 le script d'insertion de données : {{{../../scripts/1.4-2-insert.sql}1.4-2-insert.sql}} sur noumea pour la prod.    [[3]] <<Ajouter>> sur l'AS400 les tables <<SIRH.R_TYPE_JOUR_FERIE, SIRH.P_JOUR_FERIE>> au user openSirh (à faire sur noumea pour la prod)  [[4]]<<Ajouter>> le paramètre <<AFFICHAGE_SUIVI_MEDICAL>> au contexte : "TRUE" pour la prod. (cf. {{{../context.html}context.html}})     [[5]]<<Ajouter>> le paramètre <<AFFICHAGE_FICHE_EMPLOI>> au contexte : "TRUE" pour la prod. (cf. {{{../context.html}context.html}})     [[6]]<<Ajouter>> le paramètre <<AFFICHAGE_HSCT>> au contexte : "TRUE" pour la prod. (cf. {{{../context.html}context.html}})     [[7]]<<Ajouter>> le paramètre <<AFFICHAGE_EAE_AGENT>> au contexte : "TRUE" pour la prod. (cf. {{{../context.html}context.html}})     [[8]]<<Ajouter>> le paramètre <<AFFICHAGE_AVCT>> au contexte : "TRUE" pour la prod. (cf. {{{../context.html}context.html}})     [[9]]<<Ajouter>> le paramètre <<AFFICHAGE_CAMPAGNE_EAE>> au contexte : "TRUE" pour la prod. (cf. {{{../context.html}context.html}})  [[10]] <<Mettre à jour>> la ressource "SIRH_DS1" du contexte (cf {{{../context.html}context}}): 		<<validationQuery>> : select 1 from sysdummy1				<<url>> : jdbc:as400://noumea;naming=system;libraries=MAIRIE,SIRH,SYSIBM; [[11]] <<Mettre à jour>> la ressource "SIRH_DS2" du contexte (cf {{{../context.html}context}}): 		<<validationQuery>> : select 1 from sysdummy1				<<url>> : jdbc:as400://noumea;naming=system;libraries=MAIRIE,SIRH,SYSIBM;   [[12]] <<Déployer>> le war {{{../../war/1.4/sirh%23%23201306191335-1.3.war}sirh##201306191335-1.3.war}}  [[13]] Vérifier que la page version de l'application fonctionne: {{http://sirh-qual/version.jsp}} : la <<version>> doit être <<1.4>>        