 ----- SIRH ----- Noémie NICOLAS -----  26/03/2012Builder un EAR avec Maven* Pré-requis * Avoir maven  Pour vous en assurer il faut ouvrir un "invite de commandes" et taper <<mvn --version>>. * Avoir java 1.6  Pour vous en assurer il faut ouvrir un "invite de commandes" et taper <<java -version>>. * Avoir svn en ligne de commande  Pour vous en assurer il faut ouvrir un "invite de commandes" et taper <<svn help>>. * Vérifier les dependances  Dans le fichier pom.xml, il faut penser de temps en temps à verifier les dépendances.  Pour le faire, aller sur le site {{{http://search.maven.org/}Repository maven}}* Builder les dependances [[1]] Récupérer et builder commun.jar +------------------------------------------+ svn co https://dvlp.site-mairie.noumea.nc:8080/svn/commun/trunk commun cd commun mvn package mvn install mvn javadoc:jar mvn source:jar mvn install:install-file -Dfile=target/commun-1.0.jar -DpomFile=pom.xml -Dsources=target/commun-1.0-sources.jar -Djavadoc=target/commun-1.0-javadoc.jar -DgroupId=nc.mairie -DartifactId=commun -Dversion=1.0 -Dpackaging=jar -DcreateChecksum=true mvn site cd ..+------------------------------------------+     [[2]] Récupérer et builder framework.jar +------------------------------------------+ svn co https://dvlp.site-mairie.noumea.nc:8080/svn/framework/trunk framework cd framework mvn package mvn install mvn javadoc:jar mvn source:jar mvn install:install-file -Dfile=target/framework-1.0.jar -DpomFile=pom.xml -Dsources=target/framework-1.0-sources.jar -Djavadoc=target/framework-1.0-javadoc.jar -DgroupId=nc.mairie -DartifactId=framework -Dversion=1.0 -Dpackaging=jar -DcreateChecksum=true mvn site cd ..+------------------------------------------+     [[3]] Récupérer et builder sirh_api_Prod.jar +------------------------------------------+ svn co https://dvlp.site-mairie.noumea.nc:8080/svn/sirh_api_Prod/trunk sirh_api_Prod cd sirh_api_Prod mvn package mvn install mvn javadoc:jar mvn source:jar mvn install:install-file -Dfile=target/sirh_api_Prod-1.1.jar -DpomFile=pom.xml -Dsources=target/sirh_api_Prod-1.1-sources.jar -Djavadoc=target/sirh_api_Prod-1.1-javadoc.jar -DgroupId=nc.mairie -DartifactId=sirh_api_Prod -Dversion=1.1 -Dpackaging=jar -DcreateChecksum=true mvn site cd ..+------------------------------------------+* Builder le WAR +------------------------------------------+ svn co https://dvlp.site-mairie.noumea.nc:8080/svn/sirh/trunk/Mairie_GestionAgent_Prod Mairie_GestionAgent_Prod cd Mairie_GestionAgent_Prod mvn package mvn install mvn javadoc:jar mvn source:jar mvn site mvn site:deploy mvn install:install-file -Dfile=target/SIRH_Prod_War-1.0.1.war -DpomFile=pom.xml -Dsources=target/SIRH_Prod_War-1.0.1-sources.jar -Djavadoc=target/SIRH_Prod_War-1.0.1-javadoc.jar -DgroupId=nc.mairie -DartifactId=SIRH_Prod_War -Dversion=1.0.1 -Dpackaging=jar -DcreateChecksum=true cd ..+------------------------------------------+* Builder l'EAR +------------------------------------------+ svn co https://dvlp.site-mairie.noumea.nc:8080/svn/sirh/trunk/SIRH_Prod SIRH_Prod cd SIRH_Prod mvn package mvn install mvn site mvn install:install-file -Dfile=target/SIRH_Prod_Ear-1.0.1.ear -DpomFile=pom.xml -DgroupId=nc.mairie -DartifactId=SIRH_Prod_Ear -Dversion=1.0.1 -Dpackaging=ear -DcreateChecksum=true cd ..+------------------------------------------+* Deployer l'EAR